<?php
// -------------------- 1. Purchase Calculator --------------------
if (isset($_POST['price1'])) {
    $subtotal = ($_POST['price1'] * $_POST['qty1']) +
                ($_POST['price2'] * $_POST['qty2']) +
                ($_POST['price3'] * $_POST['qty3']);
    $tax = $subtotal * 0.10;
    $total = $subtotal + $tax;
    echo "<h3>Purchase Calculator</h3>";
    echo "Subtotal: ₹" . number_format($subtotal, 2) . "<br>";
    echo "Tax (10%): ₹" . number_format($tax, 2) . "<br>";
    echo "Total Cost: ₹" . number_format($total, 2) . "<br><hr>";
}

// -------------------- 2. Greeting with Name --------------------
if (isset($_POST['username'])) {
    $name = trim($_POST['username']);
    if ($name == "") {
        echo "<p style='color:red;'>Error: Name cannot be blank.</p>";
    } else {
        echo "<p>Hello, Welcome to Everyone!</p>";
        echo "<p>Have a nice day!!</p><hr>";
    }
}

// -------------------- 3. Soft Drink Deal --------------------
function deal() {
    $costA = 25 / 1.1; // Rs per liter for Drink A
    $costB = 23 / 0.9; // Rs per liter for Drink B
    if ($costA < $costB) {
        return "Choose Drink A to save money.";
    } else {
        return "Choose Drink B to save money.";
    }
}
echo "<h3>Soft Drink Deal</h3>" . deal() . "<hr>";

// -------------------- 4. Predict Output Example --------------------
$thisVar = "this"; 
$that = "that"; 
$the_other = 2.2;
echo "<h3>Predict Output</h3>";
echo "$thisVar,, " . ($that + $the_other) . "<br><hr>";

// -------------------- 5. Student Grade Check --------------------
if (isset($_POST['marks'])) {
    $marks = $_POST['marks'];
    if ($marks >= 75) {
        $grade = "First Class";
    } elseif ($marks >= 60) {
        $grade = "Second Class";
    } elseif ($marks >= 40) {
        $grade = "Third Class";
    } else {
        $grade = "Fail";
    }
    echo "<h3>Grade Check</h3>";
    echo "Marks: $marks% → Grade: $grade<hr>";
}

// -------------------- 6. Days of the Week --------------------
if (isset($_POST['daynum'])) {
    switch ($_POST['daynum']) {
        case 1: $day = "Monday"; break;
        case 2: $day = "Tuesday"; break;
        case 3: $day = "Wednesday"; break;
        case 4: $day = "Thursday"; break;
        case 5: $day = "Friday"; break;
        case 6: $day = "Saturday"; break;
        case 7: $day = "Sunday"; break;
        default: $day = "Invalid day number";
    }
    echo "<h3>Day of the Week</h3>$day<hr>";
}

// -------------------- 7. Substring Example --------------------
$sub = substr("12345", 2, 2);
echo "<h3>Substring Example</h3>sub is $sub<hr>";

// -------------------- 8. Name, Email, Message Form --------------------
if (isset($_POST['name_form'])) {
    $uname = htmlspecialchars($_POST['name_form']);
    $email = htmlspecialchars($_POST['email_form']);
    $msg = htmlspecialchars($_POST['msg_form']);
    echo "<h3>Form Confirmation</h3>";
    echo "Thank you, $uname!<br>";
    echo "We have received your message: '$msg'<br>";
    echo "A confirmation has been sent to your email: $email<hr>";
}
?>

<!-- HTML Forms -->
<h2>Purchase Calculator</h2>
<form method="post">
    Price1: <input type="number" step="0.01" name="price1">
    Qty1: <input type="number" name="qty1"><br>
    Price2: <input type="number" step="0.01" name="price2">
    Qty2: <input type="number" name="qty2"><br>
    Price3: <input type="number" step="0.01" name="price3">
    Qty3: <input type="number" name="qty3"><br>
    <button type="submit">Calculate</button>
</form>
<hr>

<h2>Greeting</h2>
<form method="post">
    Enter your name: <input type="text" name="username">
    <button type="submit">Submit</button>
</form>
<hr>

<h2>Grade Checker</h2>
<form method="post">
    Enter Marks (%): <input type="number" name="marks" min="0" max="100">
    <button type="submit">Check Grade</button>
</form>
<hr>

<h2>Days of the Week</h2>
<form method="post">
    Enter Day Number (1-7): <input type="number" name="daynum" min="1" max="7">
    <button type="submit">Show Day</button>
</form>
<hr>

<h2>Name, Email, Message Form</h2>
<form method="post">
    Name: <input type="text" name="name_form"><br>
    Email: <input type="email" name="email_form"><br>
    Message: <textarea name="msg_form"></textarea><br>
    <button type="submit">Send</button>
</form>